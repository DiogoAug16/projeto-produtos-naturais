{%load static%}

<!-- Header Section Begin -->
<header class="header">
    <div class="header__top">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="header__top__right">
                        <div class="header__top__right__social">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="header__top__right__auth">  
                            {% if user.is_authenticated %}
                                <div class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fa fa-user"></i> Olá, {{ user.username }}
                                    </a>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="{% url 'logout' %}">Sair</a>
                                    </div>
                                </div>
                            {% else %}
                                <a href="{% url 'login' %}"><i class="fa fa-user"></i> Login</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="header__logo">
                    <a href="{% url 'home' %}"><img src="{% static 'img/logo.png' %}" alt=""></a>
                </div>
            </div>
            <div class="col-lg-6">
                <nav class="header__menu">
                    <ul>
                        <li><a href="{% url 'home' %}">Inicio</a></li>
                        <li><a href="{% url 'shop' %}">Loja</a></li>
                    </ul>
                </nav>
            </div>
            <div class="col-lg-3">
                <div class="header__cart">
                    <ul>
                        <li><a href="{% url 'favoritos' %}"><i class="fa fa-heart"></i> <span>{{fav_contador}}</span></a></li>
                        <li><a href="{% url 'carrinho' %}"><i class="fa fa-shopping-bag"></i> <span>{{car_contador}}</span></a></li>
                    </ul>
                    <div class="header__cart__price">Carrinho: <span>R${{valor_total_carrinho|floatformat:2}}</span></div>
                </div>
            </div>
        </div>
        <div class="humberger__open">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>
<!-- Header Section End -->

<!-- ======================================================= -->
<!-- CSS CORRIGIDO PARA O DROPDOWN -->
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- CSS FINAL E CORRIGIDO PARA O DROPDOWN -->
<!-- ======================================================= -->
<style>
    /* 1. Container do Dropdown: Usamos min-width para alinhar perfeitamente */
    .header__top__right__auth .dropdown .dropdown-menu {
        min-width: 100%; /* <<< ESTA É A CORREÇÃO DEFINITIVA */
        padding: 0 !important;
        border: 1px solid #ebebeb !important; 
        box-shadow: none !important;
        margin-top: 8px !important;
        overflow: hidden;
    }

    /* 2. Item do Dropdown: Centralizado para melhor estética */
    .header__top__right__auth .dropdown .dropdown-item {
        font-size: 14px;
        color: #1c1c1c !important; 
        background-color: #ffffff !important; 
        padding: 8px 15px !important;
        transition: all 0.3s ease !important;
        text-align: left; /* Mantém o texto "Sair" centralizado */
    }

    /* 3. Efeito de Hover: Sem alterações */
    .header__top__right__auth .dropdown .dropdown-item:hover,
    .header__top__right__auth .dropdown .dropdown-item:focus { 
        color: #ffffff !important;
        background-color: #7fad39 !important;
    }
</style>